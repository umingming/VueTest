(function(){"use strict";var t={8663:function(t,e,n){var s=n(6369),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("tool-bar"),e("transition",{attrs:{name:"page"}},[e("router-view")],1),e("spinner-bar",{attrs:{loading:t.loadingStatus}})],1)},o=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/news"}},[t._v("News")]),t._v(" | "),e("router-link",{attrs:{to:"/ask"}},[t._v("Ask")]),t._v(" | "),e("router-link",{attrs:{to:"/jobs"}},[t._v("Jobs")]),t._v(" | ")],1)},a=[],u={},c=u,l=n(1001),f=(0,l.Z)(c,i,a,!1,null,"46eb5039",null),d=f.exports,p=function(){var t=this,e=t._self._c;return t.loading?e("div",{staticClass:"lds-facebook"},[e("div"),e("div"),e("div")]):t._e()},m=[],_={props:{loading:{type:Boolean,required:!0}}},h=_,v=(0,l.Z)(h,p,m,!1,null,"e193dcbe",null),b=v.exports,S=new s.ZP,E={name:"App",components:{ToolBar:d,SpinnerBar:b},data(){return{loadingStatus:!1}},methods:{startSpinner(){this.loadingStatus=!0},endSpinner(){this.loadingStatus=!1}},created(){S.$on("start:spinner",this.startSpinner),S.$on("end:spinner",this.endSpinner)},beforeDestroy(){S.$off("start:spinner",this.startSpinner),S.$off("end:spinner",this.endSpinner)}},T=E,g=(0,l.Z)(T,r,o,!1,null,null,null),w=g.exports,k=n(2631),$=function(){var t=this,e=t._self._c;return e("div",[e("section",[e("user-profile",{attrs:{info:t.fetchedItem}},[e("router-link",{attrs:{slot:"username",to:`/user/${t.fetchedItem.user}`},slot:"username"},[t._v(" "+t._s(t.fetchedItem.user)+" ")]),e("template",{slot:"time"},[t._v(" Posted "+t._s(t.fetchedItem.time_ago)+" ")])],2)],1),e("section",[e("h2",[t._v(t._s(t.fetchedItem.title))])]),e("section",[e("div",{domProps:{innerHTML:t._s(t.fetchedItem.content)}})])])},C=[],Z=n(3822),I=function(){var t=this,e=t._self._c;return e("div",[e("section",[e("div",{staticClass:"user-container"},[t._m(0),e("div",{staticClass:"user-description"},[t._t("username",(function(){return[t._v(" "+t._s(t.info.id)+" ")]})),e("div",{staticClass:"time"},[t._t("time",(function(){return[t._v(" Joined "+t._s(t.info.created)+", ")]})),t._t("karma")],2)],2)])])])},j=[function(){var t=this,e=t._self._c;return e("div",[e("i",{staticClass:"fa-solid fa-user"})])}],y={props:{info:Object}},x=y,O=(0,l.Z)(x,I,j,!1,null,"bcb49540",null),P=O.exports,U={name:"ItemView",components:{UserProfile:P},computed:{...(0,Z.Se)(["fetchedItem"])},created(){const t=this.$route.params.id;this.$store.dispatch("FETCH_ITEM",t)}},F=U,H=(0,l.Z)(F,$,C,!1,null,"516ab166",null),A=H.exports,J=function(){var t=this,e=t._self._c;return e("div",[e("user-profile",{attrs:{info:t.userInfo}},[e("span",{attrs:{slot:"karma"},slot:"karma"},[t._v(" "+t._s(t.userInfo.karma)+" ")])])],1)},L=[],B={components:{UserProfile:P},computed:{userInfo(){return this.$store.state.user}},created(){const t=this.$route.params.id;this.$store.dispatch("FETCH_USER",t)}},M=B,N=(0,l.Z)(M,J,L,!1,null,null,null),R=N.exports,K=function(){var t=this,e=t._self._c;return e("div",[e("list-item")],1)},V=[],W={mounted(){S.$emit("end:spinner")}},q=function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"list"},t._l(t.items,(function(n,s){return e("li",{key:s,staticClass:"post"},[e("div",{staticClass:"points"},[t._v(" "+t._s(n.points||0)+" ")]),e("div",[e("p",{staticClass:"title"},[n.domain?[e("a",{attrs:{href:n.url}},[t._v(" "+t._s(n.title)+" ")])]:[e("router-link",{attrs:{to:`/item/${n.id}`}},[t._v(" "+t._s(n.title)+" ")])]],2),e("small",{staticClass:"link-text"},[t._v(" "+t._s(n.time_ago)+" by "),n.user?[e("router-link",{staticClass:"link-text",attrs:{to:`/user/${n.user}`}},[t._v(" "+t._s(n.user)+" ")])]:[e("a",{staticClass:"link-text",attrs:{href:n.url}},[t._v(" "+t._s(n.domain)+" ")])]],2)])])})),0)])},D=[],z={computed:{items(){return this.$store.state.list}}},G=z,Q=(0,l.Z)(G,q,D,!1,null,"1c0fb016",null),X=Q.exports,Y={components:{ListItem:X},mixins:[W]},tt=Y,et=(0,l.Z)(tt,K,V,!1,null,null,null),nt=et.exports,st=function(){var t=this,e=t._self._c;return e("div",[e("list-item")],1)},rt=[],ot={components:{ListItem:X},mounted(){S.$emit("end:spinner")}},it=ot,at=(0,l.Z)(it,st,rt,!1,null,null,null),ut=at.exports;function ct(t){return{name:t,render(t){return t(ut)}}}var lt={SET_NEWS(t,e){t.news=e},SET_JOBS(t,e){t.jobs=e},SET_ASK(t,e){t.ask=e},SET_USER(t,e){t.user=e},SET_ITEM(t,e){t.item=e},SET_LIST(t,e){t.list=e}},ft=n(5939);const dt={baseUrl:"https://api.hnpwa.com/v0/"};async function pt(){try{return await ft.Z.get(`${dt.baseUrl}news/1.json`)}catch(t){console.log(t)}}function mt(){return ft.Z.get(`${dt.baseUrl}ask/1.json`)}function _t(){return ft.Z.get(`${dt.baseUrl}jobs/1.json`)}function ht(t){return ft.Z.get(`${dt.baseUrl}user/${t}.json`)}function vt(t){return ft.Z.get(`${dt.baseUrl}item/${t}.json`)}function bt(t){return ft.Z.get(`${dt.baseUrl}${t}/1.json`)}var St={async FETCH_NEWS({commit:t}){const e=await pt();return t("SET_NEWS",e.data),e},FETCH_JOBS(t){_t().then((e=>(t.commit("SET_JOBS",e.data),e)))},FETCH_ASK(t){mt().then((e=>(t.commit("SET_ASK",e.data),e)))},FETCH_USER({commit:t},e){ht(e).then((({data:e})=>t("SET_USER",e))).catch((t=>console.log(t)))},FETCH_ITEM({commit:t},e){vt(e).then((({data:e})=>t("SET_ITEM",e))).catch((t=>console.log(t)))},async FETCH_LIST({commit:t},e){try{const n=await bt(e);return console.log("fetched"),t("SET_LIST",n.data),n}catch(n){console.log(n)}}};s.ZP.use(Z.ZP);const Et=new Z.ZP.Store({state:{news:[],jobs:[],ask:[],user:{},item:{},list:[]},mutations:lt,getters:{fetchedAsk(t){return t.ask},fetchedItem(t){return t.item},fetchedNews(t){return t.news},fetchedJobs(t){return t.jobs}},actions:St});s.ZP.use(k.Z);const Tt=new k.Z({mode:"history",routes:[{path:"/",redirect:"/news"},{path:"/news",name:"news",component:nt,beforeEnter:gt},{path:"/ask",name:"ask",component:ct("AskView"),beforeEnter:gt},{path:"/jobs",name:"jobs",component:ct("JobsView"),beforeEnter:gt},{path:"/item/:id",component:A},{path:"/user/:id",component:R}]});function gt(t,e,n){S.$emit("start:spinner"),setTimeout((()=>{Et.dispatch("FETCH_LIST",t.name).then((()=>n())).catch((t=>console.log(t)))}),3e3)}s.ZP.config.productionTip=!1,new s.ZP({router:Tt,store:Et,render:t=>t(w)}).$mount("#app")}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,s,r,o){if(!s){var i=1/0;for(l=0;l<t.length;l++){s=t[l][0],r=t[l][1],o=t[l][2];for(var a=!0,u=0;u<s.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](s[u])}))?s.splice(u--,1):(a=!1,o<i&&(i=o));if(a){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[s,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,o,i=s[0],a=s[1],u=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var l=u(n)}for(e&&e(s);c<i.length;c++)o=i[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(l)},s=self["webpackChunkvue_news"]=self["webpackChunkvue_news"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(8663)}));s=n.O(s)})();
//# sourceMappingURL=app.bdf77659.js.map